(window.webpackJsonp=window.webpackJsonp||[]).push([["ZeMg"],{ZeMg:function(t,e,o){"use strict";o.r(e);var r=o("stgD"),n=(o("ZOF2"),{components:{mavonEditor:r.mavonEditor},data:function(){return{params:{},docForm:{parentId:"",name:"",parentName:"",isShow:"1",content:""},rules:{name:[{required:!0,message:"请输入文档名称",trigger:"blur"},{min:1,max:50,message:"长度在 1 到 50 个字符",trigger:"blur"}]},templateList:[]}},created:function(){this.params=this.$route.query,this.docForm.parentName=this.params.parentName,this.docForm.parentId=this.params.parentId,this.docForm.projectId=this.params.projectId,this.initTemplates()},methods:{insertApi:function(t){var e=t.content;this.docForm.content=this.docForm.content+e},initTemplates:function(){this.post("template.listall",{},function(t){this.templateList=t.data})},submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return console.log("error submit!!"),!1;e.post("doc.page.create",e.docForm,function(t){this.tip("添加成功"),this.$router.push({path:"/docManager",query:{id:this.params.projectId}})})})}}}),a=o("KHd+"),i=Object(a.a)(n,function(){var t=this,e=this,o=e.$createElement,r=e._self._c||o;return r("div",{staticClass:"app-container"},[r("el-button",{attrs:{type:"text",icon:"el-icon-back"},on:{click:function(){t.$router.push({path:"/docManager",query:{id:e.$route.query.projectId}})}}},[e._v("返回")]),e._v(" "),r("el-container",[r("el-form",{ref:"docForm",staticStyle:{width:"100%"},attrs:{inline:!0,model:e.docForm,rules:e.rules}},[r("el-form-item",{attrs:{prop:"name"}},[r("el-input",{staticClass:"doc-title",staticStyle:{width:"600px"},attrs:{placeholder:"文档名称"},model:{value:e.docForm.name,callback:function(t){e.$set(e.docForm,"name",t)},expression:"docForm.name"}},[r("template",{slot:"prepend"},[e._v(e._s(e.docForm.parentName)+"  --\x3e")])],2)],1),e._v(" "),r("el-form-item",[r("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.docForm.isShow,callback:function(t){e.$set(e.docForm,"isShow",t)},expression:"docForm.isShow"}},[e._v("是否显示")])],1),e._v(" "),r("br"),e._v(" "),r("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{label:"插入模板"}},e._l(e.templateList,function(t){return r("el-button",{key:t.id,attrs:{type:"text"},on:{click:function(o){e.insertApi(t)}}},[e._v(e._s(t.name))])})),e._v(" "),r("mavon-editor",{staticStyle:{"min-height":"500px"},attrs:{boxShadow:!1},model:{value:e.docForm.content,callback:function(t){e.$set(e.docForm,"content",t)},expression:"docForm.content"}}),e._v(" "),r("el-form-item",[r("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"primary"},on:{click:function(t){e.submitForm("docForm")}}},[e._v("保存")])],1)],1)],1)],1)},[],!1,null,null,null);i.options.__file="newDoc.vue";e.default=i.exports}}]);